<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="css/Zihan_Mei_ex5_Scrollytelling.css" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Zihan_Mei_ex5_Scrollytelling</title>
    <meta name="description" content="11.454 Big Data and Visualization, PSET#5, Building a Scrolly Telling Page">
    <meta name="author" content="Zihan Zephaniah MEI">

    <!-- fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:200,400,600&display=swap" rel="stylesheet">
    <!-- font from adobe -->
    <script>
        (function (d) {
            var config = {
                kitId: 'cmi7aqt',
                scriptTimeout: 3000,
                async: true
            },
                h = d.documentElement, t = setTimeout(function () { h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive"; }, config.scriptTimeout), tk = d.createElement("script"), f = false, s = d.getElementsByTagName("script")[0], a; h.className += " wf-loading"; tk.src = 'https://use.typekit.net/' + config.kitId + '.js'; tk.async = true; tk.onload = tk.onreadystatechange = function () { a = this.readyState; if (f || a && a != "complete" && a != "loaded") return; f = true; clearTimeout(t); try { Typekit.load(config) } catch (e) { } }; s.parentNode.insertBefore(tk, s)
        })(document);
    </script>
    <!-- end fonts -->

    <!-- start favicons snippet, use https://realfavicongenerator.net/ -->
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#2c3e50">
    <link rel="shortcut icon" href="favicon/favicon.ico">
    <meta name="apple-mobile-web-app-title" content="ZMei.moe">
    <meta name="application-name" content="ZMei.moe">
    <meta name="msapplication-TileColor" content="#fee3e1">
    <meta name="msapplication-config" content="favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- end favicons snippet -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156998560-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-156998560-1');
    </script>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous">
        </script>

    <script type='text/javascript'>
        $(document).ready(function () {
            $("#footer").load("components/footer.html");
        });
    </script>

    <!-- anime-master -->
    <script src="js/anime-master/lib/anime.min.js"></script>

    <!-- mapbox -->
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />

    <!-- scrollmagic.js -->
    <script src="js/ScrollMagic.min.js"></script>
    <script src="js/debug.addIndicators.min.js"></script>

</head>

<body>
    <progress id="content-progress" value="0"></progress>

    <!-- back to top icon -->
    <a id="backtotop">
        <svg id="layer2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.85 35.95">
            <defs>
                <style>
                    .cls-1 {
                        fill: none;
                        stroke-miterlimit: 10;
                    }
                </style>
            </defs>
            <title>backtotop</title>
            <polyline class="cls-1" points="0.43 13.95 8.43 0.95 16.43 13.95" />
            <line class="cls-1" x1="8.43" y1="25.95" x2="8.43" y2="0.95" />
            <line class="cls-1" x1="0.43" y1="0.95" x2="16.43" y2="0.95" />
        </svg>
    </a>
    <!-- end back to top icon -->

    <section class="cover" id="home">
        <div class="parallax"></div>

        <div class="coverwords">
            <h1>How to Improve Racial Equity in the Access to Medical Resources during COVID</h1>
            <h2>Zihan_Mei_ex5_Scrollytelling</h2>
            <p>By Zihan Mei, on 2020-10-25</p>
            <p>11.454 Big Data, Visualization, And Society<br>Instructor: Sarah Williams, Yuan Lai<br>TA: Yanchao Li,
                Lily
                Xie, Patricia Cafferky</p>
            <p>source for background image: <a
                    href="https://showcase.earthengine.app/view/jrc-global-surface-water-animation">JRC Global Surface
                    Water
                    Animation</a></p>
            <!-- <p><a href="https://www.zmei.moe/">Go to Homepage.</a></p> -->
        </div>

        <a href="#background">
            <div class="scrolldown">
                <svg id="layer1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27.14 11.04">
                    <defs>
                        <style>
                            .cls-1 {
                                fill: transparent;
                                stroke-miterlimit: 10;
                                stroke-width: 2px;
                            }
                        </style>
                    </defs>
                    <title>scrolldown</title>
                    <polyline class="cls-1" points="0.57 0.82 13.57 9.82 26.57 0.82" />
                </svg>
            </div>
        </a>
    </section>

    <section id="background" class="container">
        <div class="row">
            <div class="col-6 offset-3">
                <h3>Notes for ex5</h3>
                <ol>
                    <li>Used <b>ScrollMagic</b> for scrolly telling, <b>anime.js</b> for some animation.</li>
                    <li>Used parallax scroll for cover page as proposed at mid-term.</li>
                    <li>Used grid system from <a
                            href="https://getbootstrap.com/docs/4.0/layout/grid/"><b>bootstrap</b></a>.</li>
                    <li>Displayed the column systems as proposed at mid-term.</li>
                    <li>Inlcuded the footer, back-to-top button, scroll-down arrow.</li>
                </ol>
                <h3>Things to continue with</h3>
                <ul>
                    <li>Navbar not included.</li>
                    <li>Some detialed font size and weight need fixing later.</li>
                    <li>Sticky property not included.</li>
                </ul>
                <h3>Troubles for this page</h3>
                <ul>
                    <li>Trouble in resizeing Bokeh charts while integrating it.</li>
                    <li>Trouble in integrating mapbox item directly into the html file. I used iframe tag with api here.
                    </li>
                </ul>
            </div>
        </div>
        <hr>

        <div class="row" id="bgrow">
            <div class="col-6 offset-3">
                <h2 id="bgtrigger">Background</h2>
            </div>
            <div class="col-4 align-self-center bgtxt bganime">
                <p>Since this pandemic started, people have been discussing who specifically the victims of COVID are,
                    and if there is racial inequity in this suffering, which are to reveal the phenomena of the
                    pandemic.</p>
                <p>Based on these demands, most states have provided racial data of the infections, though there is a
                    minor difference of data transparency between states. And this has facilitated data-driven analysis
                    to reveal the unequal situation of the infections.</p>
                <p>This is one of the analysis, and shows that many of the high death-rate counties in US are
                    black-dominant while many of the highly-infected counties are white-dominant.</p>
                <p>Another analysis shows that hospitalization cases of not only black but also the other minority such
                    as American Indian, Alaska Native, and Latino are as around 5 times as ones of White.</p>
            </div>
            <div class="col-8 align-self-center bgimg bganime">
                <img src="assets/1025bgimg.png" alt="background" height="100%" width="100%">
            </div>
            <div class="col-8 offset-2">
                <h2><br>There is inequity in suffer between racial groups.<br>So, how has this happened?</h2>
            </div>
        </div>
        <hr>
    </section>

    <section class="container" id="start-up">
        <div class="row">
            <div class="col-6 offset-3">
                <h2 id="starttrigger">Question to Study</h2>
                <ol>
                    <li>reveal inequity of accessibility to medical resource</li>
                    <li>suggest ways to improve it</li>
                </ol>
            </div>
            <div class="col-4 align-self-center starttxt startanime">
                <h3>Study Structure</h3>
                <p>Following the question we want to study, we developed our study structure. We plan to start with
                    tract classification by race, and explode the question into three detailed aspects. They are
                    financial conditions, information accessibility, and physical accessibility. After that, we will
                    reach the conclusion stage and try to figure out some suggestions for the problem discovered.</p>
            </div>
            <div class="col-8 align-self-center startimg startanime">
                <img src="assets/1025structure.jpg" alt="structure" height="100%" width="100%">
            </div>
        </div>

        <div class="row">
            <div class="col-4 align-self-center starttxt startanime">
                <h3>Start-Up: Identify the Tracts</h3>
                <p>In the start-up stage, we will identify the tracts by their dominant race and the geolocation. Our
                    further study will be based on the tracts. The dataset we plan to use here is Race and Hispanic
                    Origin Variables. The problem we might have could be that the tracts in the dataset are indexed by
                    FIPS code, which we need to convert later to geolocation.</p>
            </div>
            <div class="col-8 align-self-center startimg startanime">
                <img src="assets/1025identifytracts.jpg" alt="start-up" height="100%" width="100%">
            </div>
        </div>
        <hr>
    </section>

    <section class="container" id="economy">
        <div class="row">
            <div class="col-6 offset-3">
                <h2 id="ecotrigger">Financial Conditions</h2>
                <p>Then we will move on to the three main layers. As we suppose, financial conditions could be the
                    fundamental factor that will influence the accessibility to medical resources. In this layer, we
                    will study from stability of income and the coverage of health insurance.</p>
            </div>
        </div>

        <div class="row" id="income">
            <div class="col-4 align-self-center ecotxt ecoanime">
                <h3>Median Income & Unemployment</h3>
                <p>For income part, we already found datasets on income by race and age, but the difficulty could be
                    that the unemployment data both from ArcGIS and New York Times are undownloadable.</p>
                <!-- <div class="testchart"></div> -->
                <iframe src="assets/Alabama_bar.html" id="alabamachart" width="100%" frameborder="0" scrolling="no"
                    onload="resizeIframe(this)"></iframe>
            </div>
            <div class="col-8 align-self-center ecoimg ecoanime">
                <iframe src="assets/my_map.html" id="myfoliummap" width="100%" frameborder="0" scrolling="no"></iframe>
            </div>
        </div>

        <div class="row" id="insurance">
            <div class="col-4 align-self-center ecotxt ecoanime">
                <h3>Health Insurance Coverage</h3>
                <p>For the second part in financial conditions, based on the dataset of health insurance coverage, we
                    plan to index the studied tracts by insurace type, and also by age as we did for the income part.
                </p>
                <!-- <div class="testchart"></div> -->
                <iframe src="assets/Alabama_bar.html" id="alabamachart" width="100%" frameborder="0" scrolling="no"
                    onload="resizeIframe(this)"></iframe>
            </div>
            <div class="col-8 align-self-center ecoimg ecoanime">
                <!-- <div id="mapbox"></div> -->
                <!-- <iframe src="assets/HTML_example_in_class.html" id="mapbox" width="100%" frameborder="0"
                    scrolling="no"></iframe> -->
                <iframe
                    src="https://api.mapbox.com/styles/v1/saturn-drm/ckggkbvcg0qyp19pgx6fzzjup.html?fresh=true&access_token=pk.eyJ1Ijoic2F0dXJuLWRybSIsImEiOiJja2dkbGNrNmowOHBjMnFsN2U2ZW82NXc1In0.YYuvMNHy448lewsxlIpfVg"
                    id="mapbox" width="100%"></iframe>
            </div>
        </div>
        <hr>
    </section>

    <section class="container" id="information">
        <div class="row">
            <div class="col-6 offset-3">
                <h2 id="infotrigger">Information Accessibility</h2>
                <p>Next, information is also significant for people to know if the symptoms are serious enough to go to
                    the hospitals and which hospitals are open for COVID patients. Then, we will identify information
                    accessibility by two criteria. One is online-based, and the other is education-based.</p>
            </div>
        </div>

        <div class="row" id="online">
            <div class="col-4 align-self-center infotxt infoanime">
                <h3>Online-Based Information</h3>
                <p>As for the online-based information, we think that people can reach more and better information if
                    they have internet access. So, we are going to use the data of number of households that have
                    internet subscription, and smartphone devices.</p>
                <!-- <div class="testchart"></div> -->
                <iframe src="assets/Alabama_bar.html" id="alabamachart" width="100%" frameborder="0" scrolling="no"
                    onload="resizeIframe(this)"></iframe>
            </div>
            <div class="col-8 align-self-center infoimg infoanime">
                <iframe src="assets/my_map.html" id="myfoliummap" width="100%" frameborder="0" scrolling="no"></iframe>
            </div>
        </div>

        <div class="row" id="education">
            <div class="col-4 align-self-center infotxt infoanime">
                <h3>Education-Based Information</h3>
                <p>On the other hand, about the education-based information, we think that people have general knowledge
                    to avoid infections if education level is high. So, we are going to use the data of students’ exam
                    scores that can represent the education level of community to a certain extent. One difficulty to
                    use this tabular data is that geographic boundary is based on the administrative districts, which is
                    different from the other GIS data that is more subdivided. So, we have to identify which blocks in
                    GIS data should be assigned to the administrative districts.</p>
                <!-- <div class="testchart"></div> -->
                <iframe src="assets/Alabama_bar.html" id="alabamachart" width="100%" frameborder="0" scrolling="no"
                    onload="resizeIframe(this)"></iframe>
            </div>
            <div class="col-8 align-self-center infoimg infoanime">
                <iframe
                    src="https://api.mapbox.com/styles/v1/saturn-drm/ckggkbvcg0qyp19pgx6fzzjup.html?fresh=true&access_token=pk.eyJ1Ijoic2F0dXJuLWRybSIsImEiOiJja2dkbGNrNmowOHBjMnFsN2U2ZW82NXc1In0.YYuvMNHy448lewsxlIpfVg"
                    id="mapbox" width="100%"></iframe>
            </div>
        </div>
        <hr>
    </section>

    <section class="container" id="physical">
        <div class="row">
            <div class="col-6 offset-3">
                <h2 id="phytrigger">Physical Accessibility</h2>
                <p>Following two layers above, we suppose the physical accessibility is also important in accessing
                    medical resources. We plan to study this layer from mobility and coverage of medical facilities.</p>
            </div>
        </div>

        <div class="row" id="mobility">
            <div class="col-4 align-self-center phytxt phyanime">
                <h3>Disability & Vehicles</h3>
                <p>For the first part, we plan to measure the mobility index from the rate of disability by age and
                    type. We will also count the households with no vehicles, and classify them by the number of
                    members.</p>
                <!-- <div class="testchart"></div> -->
                <iframe src="assets/Alabama_bar.html" id="alabamachart" width="100%" frameborder="0" scrolling="no"
                    onload="resizeIframe(this)"></iframe>
            </div>
            <div class="col-8 align-self-center phyimg phyanime">
                <iframe src="assets/my_map.html" id="myfoliummap" width="100%" frameborder="0" scrolling="no"></iframe>
            </div>
        </div>

        <div class="row" id="facilities">
            <div class="col-4 align-self-center phytxt phyanime">
                <h3>Access to Medical Facilities</h3>
                <p>For the coverage of medical facilities, we will first locate medical facilities of various types on
                    the map, and add the capacity to their location. Then we will measure the accessibility by
                    calculating how many medical facilities are in the range of a certain drive time from each tract. We
                    might use ArcGIS tool or osmnx module in Python.</p>
                <!-- <div class="testchart"></div> -->
                <iframe src="assets/Alabama_bar.html" id="alabamachart" width="100%" frameborder="0" scrolling="no"
                    onload="resizeIframe(this)"></iframe>
            </div>
            <div class="col-8 align-self-center phyimg phyanime">
                <iframe
                    src="https://api.mapbox.com/styles/v1/saturn-drm/ckggkbvcg0qyp19pgx6fzzjup.html?fresh=true&access_token=pk.eyJ1Ijoic2F0dXJuLWRybSIsImEiOiJja2dkbGNrNmowOHBjMnFsN2U2ZW82NXc1In0.YYuvMNHy448lewsxlIpfVg"
                    id="mapbox" width="100%"></iframe>
            </div>
        </div>
        <hr>
    </section>

    <section class="container" id="conclusion">
        <div class="row">
            <div class="col-6 offset-3">
                <h2 id="conctrigger">System of Weighting & Final Visualization</h2>
                <p><b>sample text</b><br>Minority communities will have a higher index in at least one of the layer than
                    white communities.<br>The dominant index for various communities may be different due to their
                    ethnic group or
                    geolocation.<br>Offer policy maker suggestion on what social or physical infrastructure needs
                    improvement and where
                    to implement.</p>
            </div>
        </div>

        <div class="row">
            <div class="col-4 align-self-end conctxt concanime">
                <!-- <div class="testchart"></div> -->
                <iframe src="assets/Alabama_bar.html" id="alabamachart" width="100%" frameborder="0" scrolling="no"
                    onload="resizeIframe(this)"></iframe> <!-- <div class="testchart"></div> -->
                <iframe src="assets/Alabama_bar.html" id="alabamachart" width="100%" frameborder="0" scrolling="no"
                    onload="resizeIframe(this)"></iframe> </div>
            <div class="col-8 align-self-center concimg concanime">
                <iframe
                    src="https://api.mapbox.com/styles/v1/saturn-drm/ckggkbvcg0qyp19pgx6fzzjup.html?fresh=true&access_token=pk.eyJ1Ijoic2F0dXJuLWRybSIsImEiOiJja2dkbGNrNmowOHBjMnFsN2U2ZW82NXc1In0.YYuvMNHy448lewsxlIpfVg"
                    id="mapbox" width="100%"></iframe>
            </div>
        </div>

        <div class="row gapbeforefooter"></div>
    </section>

    <div id="footer"></div>

    <!-- scroll smoothly -->
    <script>
        $(document).ready(function () {
            $("a").on('click', function (event) {

                if (this.hash !== "") {
                    event.preventDefault();

                    var hash = this.hash;

                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 800, function () {

                        window.location.hash = hash;
                    });
                }
            });
        });
    </script>
    <!-- end scroll smoothly -->

    <!-- back to top -->
    <script class="backtotop">
        var btn = $('#backtotop');

        $(window).scroll(function () {
            if ($(window).scrollTop() > 300) {
                btn.addClass('show');
            } else {
                btn.removeClass('show');
            }
        });

        btn.on('click', function (e) {
            e.preventDefault();
            $('html, body').animate({ scrollTop: 0 }, '300');
        });
    </script>
    <!-- end back to top -->

    <!-- the moving icon of scrolling down -->
    <script class="scrolldownanime">
        anime({
            targets: 'div.scrolldown svg',
            translateY: 25,
            loop: true,
            easing: 'easeInOutSine',
            duration: 1000,
            opacity: [0, 1]
        })
    </script>

    <!-- Automatically Adjust iFrame Height According to its Contents -->
    <script>
        function resizeIframe(obj) {
            obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
        }
    </script>
    <!-- end of iframe height -->

    <!-- scrollmagic animation -->
    <script class="scrollmagicanime">
        window.onload = function () {
            var bgheight = document.getElementById("bgrow").offsetHeight;
            // var startheight = document.getElementById("start-up").offsetHeight;
            var startheight = document.getElementById("start-up").offsetHeight;
            var ecoheight = document.getElementById("economy").offsetHeight;
            var infoheight = document.getElementById("information").offsetHeight;
            var phyheight = document.getElementById("physical").offsetHeight;

            var controller = new ScrollMagic.Controller();

            new ScrollMagic.Scene({ triggerElement: "#bgtrigger", duration: bgheight })
                .setClassToggle(".bganime", "magicshow")
                .addIndicators({ name: "background" })
                .addTo(controller);
            new ScrollMagic.Scene({ triggerElement: "#starttrigger", duration: startheight })
                .setClassToggle(".startanime", "magicshow")
                .addIndicators({ name: "start-up" })
                .addTo(controller);
            new ScrollMagic.Scene({ triggerElement: "#ecotrigger", duration: ecoheight })
                .setClassToggle(".ecoanime", "magicshow")
                .addIndicators({ name: "economy" })
                .addTo(controller);
            new ScrollMagic.Scene({ triggerElement: "#infotrigger", duration: infoheight })
                .setClassToggle(".infoanime", "magicshow")
                .addIndicators({ name: "information" })
                .addTo(controller);
            new ScrollMagic.Scene({ triggerElement: "#phytrigger", duration: phyheight })
                .setClassToggle(".phyanime", "magicshow")
                .addIndicators({ name: "physical" })
                .addTo(controller);
            new ScrollMagic.Scene({ triggerElement: "#conctrigger" })
                .setClassToggle(".concanime", "magicshow")
                .addIndicators({ name: "conclusion" })
                .addTo(controller);
        };

    </script>

    <script class="content-progress-js">
        document.addEventListener('DOMContentLoaded', function () {
            var winHeight = window.innerHeight,
                docHeight = document.documentElement.scrollHeight,
                progressBar = document.querySelector('#content-progress');
            progressBar.max = docHeight - winHeight;
            progressBar.value = window.scrollY;

            document.addEventListener('scroll', function () {
                progressBar.max = document.documentElement.scrollHeight - window.innerHeight;
                progressBar.value = window.scrollY;
            });
        });
    </script>

    <!-- mapbox -->
    <!-- <script>
        mapboxgl.accessToken = 'pk.eyJ1Ijoic2F0dXJuLWRybSIsImEiOiJja2dkbGNrNmowOHBjMnFsN2U2ZW82NXc1In0.YYuvMNHy448lewsxlIpfVg';
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/saturn-drm/ckggkbvcg0qyp19pgx6fzzjup',
            center: [-71.0588, 42.3601],
            zoom: 14
        })

        // Load data source and add layer
        map.on('load', function () {
            // Add data sources:
            map.addSource('complaints', {
                'type': 'geojson',
                'data': 'data/boston_service_requests.geojson',
                'generateId': true // This ensures that all features have unique IDs
            });

            // Add layer to discplay data:
            map.addLayer({
                id: 'complaints_viz',
                type: 'circle',
                source: 'complaints',
                paint: {
                    'circle-radius': 4,
                    'circle-color': [
                        'interpolate',
                        ['linear'],
                        ['number', ['get', 'response_time']],
                        0, '#ffeda0',
                        6, '#fd8d3c',
                        12, '#fc4e2a',
                        18, '#e31a1c',
                        24, '#bd0026'
                    ],
                    'circle-opacity': 0.6
                },
            });
        });
    </script> -->
    <!-- end of mapbox -->
</body>

</html>